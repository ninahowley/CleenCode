<!-- (CleenCode) -->
<!-- HTML template for problem page -->

{% extends "base.html" %}

{% block main_content %}

<div style="position: relative; margin-top: 25vh;">
    <a href="{{ url_for('problems') }}" class="btn-container btn-back" style="position: absolute; left: 0; top: 50%; transform: translateY(-50%);">Back</a>
    <h1 class="page_title">{{ data['problem_name'] }}</h1>
</div>

<div class="problem_container">
  
  <div>
    <h2>Description</h2> 
    <pre>
        {{ data['description'] }}
    </pre>
  </div>
</div>

<p></p>

<div class="problem_container">

  <div>
    <form method=POST action="">
      <label for="code">Your Code Here:</label> 
      <p>
        <!-- <textarea id="code" name="code">{{ data['incorrect_code'][1:] }}</textarea> -->
        <div class="editor-container">
            <pre id="highlight-layer"><code id="highlight-code"></code></pre>
            <textarea id="code" name="code" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off">{{ data['incorrect_code'] }}</textarea>
            <input class="btn-container btn-test" type="submit" name="test" value="Test">
        </div>
      </p>
    </form>
  </div>

<div>
  <label for="code">Test Cases:</label>
  <p>
  
  <!-- scrollable container -->
    <div style="max-height: 400px; overflow-y: auto; padding: 10px; border-radius: 10px">
      <ol style="list-style: none; padding: 0; margin: 0;">
        
        {% for test in tests %}
          {% if 'output' in test.keys() %}
            <!-- Example Test Cases -->
            <li style="border-radius: 8px; padding: 12px; margin: 8px 0; background-color: #53A4F5;">
              {% for input_name, input_value in test['input'].items() %}
                <p style="color:white; font-family: Consolata, sans-serif;"><strong>{{ input_name }} =</strong> {{ input_value }}</p>
              {% endfor %}
              <p style="color:white; font-family: Consolata, sans-serif;"><strong>expected =</strong> {{ test['output'] }}</p>
            </li>
          {% else %}
            <!-- User-submitted Test Cases -->
            <li style="border-radius: 8px; padding: 12px; margin: 8px 0; background-color: #53A4F5;">
              {% for input_name, input_value in test['input'].items() %}
                <p style="color:white; font-family: Consolata, sans-serif;"><strong>{{ input_name }} =</strong> {{ input_value }}</p>
              {% endfor %}
              <p style="color:white; font-family: Consolata, sans-serif;"><strong>expected =</strong> {{ test['expected'] }}</p>
              <p style="color:white; font-family: Consolata, sans-serif;"><strong>result =</strong> {{ test['actual'] }}</p>
              {% if test['passed'] %}
                <h4 style="color: green; margin: 5px 0;">PASSED</h4>
              {% else %}
                <h4 style="color: red; margin: 5px 0;">FAILED</h4>
              {% endif %}
            </li>
          {% endif %}
        {% endfor %}

      </ol>
    </div>
    </p>
</div>

</div>

{% endblock %}